<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 5.13.3"/><style data-href="/my-blog/styles.1a303912f7f327089878.css" data-identity="gatsby-global-css">body{margin:0;padding:0}@font-face{font-family:taebaek;font-style:normal;font-weight:400;src:url(/my-blog/static/TAEBAEK-1f07c3ec4f67d3a56954563d9ccf1ed3.ttf) format("truetype")}@font-face{font-family:taebaek-milkyway;font-style:normal;font-weight:400;src:url(/my-blog/static/TAEBAEK-milkyway-be8807805a66e1365e5da8d62a854d67.ttf) format("truetype")}.ContentsTree-module--contentsTree__leaf--8208d{color:#fff;font-family:Consolas,monospace;font-size:2.5vh;font-weight:700;text-decoration:none}.Home-module--home--eeb12,.Home-module--home__main--2a0a1{display:flex;height:100vh;width:100vw}.Home-module--home__main--2a0a1{align-items:center;background-color:#000;background-image:linear-gradient(to top left,#28283c,#000014);flex-direction:column;justify-content:center}.Home-module--home__main__canvas--36a08{height:100vh;padding:2vh;position:fixed;width:100vw}.Home-module--home__main__titleBox--c2d57{align-items:flex-end;display:flex;flex-direction:column;height:90%;justify-content:flex-end;width:90%}.Home-module--home__main__titleBox__title--c4566{align-items:center;display:flex;flex-direction:column;z-index:1}.Home-module--home__main__titleBox__title__text--d1066,.Home-module--home__main__titleBox__title__text__vibration--cebde{color:#fff;font-family:taebaek;font-size:8vh;font-weight:700;padding-bottom:1vh;padding-top:1vh;z-index:1}.Home-module--home__main__titleBox__title__text__vibration--cebde{animation:Home-module--vibration--c3fd7 .1s infinite}@keyframes Home-module--vibration--c3fd7{0%{transform:rotate(1deg)}to{transform:rotate(-1deg)}}.Home-module--home__main__titleBox__title__contentsTree--7db75{height:0;opacity:0;overflow:hidden;transition:height .3s ease,opacity .5s ease-in}.Home-module--home__main__titleBox__title--c4566:hover>.Home-module--home__main__titleBox__title__contentsTree--7db75{height:55vh;opacity:1}.Home-module--home__main__titleBox__subtitle--05d67{color:#fff;font-family:taebaek-milkyway;font-size:5vh;font-weight:700;padding-bottom:2vh;padding-top:2vh;z-index:1}.Home-module--home__main__titleBox__contact--33deb{color:#fff;font-family:Consolas,monospace;font-size:3vh;font-weight:400;padding-top:1vh;text-decoration-line:none;z-index:1}.Home-module--home__main__titleBox__contact--33deb:hover{text-decoration:underline}.Navigator-module--navigator--6deb4{align-items:flex-start;display:flex;flex-direction:column;justify-content:center;padding-left:2vw;padding-top:2vh;position:fixed}.Navigator-module--navigator__title--3580b{color:#fff;font-family:taebaek;font-size:5vh;font-weight:700;padding-bottom:1vh;padding-top:1vh;text-decoration:none}.Post-module--post--83824{display:flex;justify-content:space-between}.Post-module--post__background--9bfff{background-image:linear-gradient(to top left,#28283c,#000014);height:100vh;position:fixed;width:100vw;z-index:-1}.Post-module--post__content--4d366{align-content:center;align-items:center;height:100%;width:100%}.Post-module--post__content__markdown--f2389{margin-left:30%;width:50%}.Post-module--post__content__markdown__title--f6def{color:#fff;font-size:5vh;font-weight:700;padding-bottom:3vh;padding-top:3vh}.Post-module--post__content__markdown__author--c2fcc,.Post-module--post__content__markdown__date--5506d{color:#fff;font-size:2.5vh;text-align:end}.PostList-module--postList--5fcc0{justify-content:space-between;width:100%}.PostList-module--postList__background--0a42f{background-image:linear-gradient(to top left,#28283c,#000014);height:100vh;position:fixed;width:100vw;z-index:-1}.PostList-module--postList__category--af01a{color:#fff;font-size:5vh;font-weight:700;margin-left:30%;padding-bottom:5vh;padding-left:2vw;padding-top:5vh}.PostList-module--postList__content--99772{align-content:center;align-items:center;margin-left:30%;width:50%}.PostList-module--postList__content__post--c72c0{border-bottom-color:#404040;border-bottom-style:solid;color:#d0d0d0;margin-left:1.5vw;padding-bottom:3vh;padding-top:3vh;width:95%}.PostList-module--postList__content__post__title--43639{color:#fff;font-size:2.5vh;font-weight:700;text-decoration:none}.PostList-module--postList__content__post__title--43639:hover{text-decoration:underline}.PostList-module--postList__content__post__excerpt--23e54{font-size:2vh;font-weight:400;line-height:160%;padding-bottom:2vh;padding-top:2vh}.PostList-module--postList__content__post__author--0fbc7,.PostList-module--postList__content__post__date--1f2f3{font-size:2vh;font-weight:400;text-align:end}</style></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="Post-module--post--83824"><nav class="Navigator-module--navigator--6deb4"><a href="https://bill0077.github.io/my-blog" class="Navigator-module--navigator__title--3580b">bill0077.log</a><div><div class="ContentsTree-module--contentsTree__leaf--8208d">  │</div><div class="ContentsTree-module--contentsTree__leaf--8208d">  ├── ProblemSolving</div><div><a href="https://bill0077.github.io/my-blog/boj" class="ContentsTree-module--contentsTree__leaf--8208d">  │     └── boj </a></div><div class="ContentsTree-module--contentsTree__leaf--8208d">  │</div><div class="ContentsTree-module--contentsTree__leaf--8208d">  ├── SideProjects</div><div><a href="https://bill0077.github.io/my-blog/myblog-dev-log" class="ContentsTree-module--contentsTree__leaf--8208d">  │     ├── myblog-dev-log</a></div><div><a href="https://bill0077.github.io/my-blog/tadak-dev-log" class="ContentsTree-module--contentsTree__leaf--8208d">  │     └── tadak-dev-log</a></div><div class="ContentsTree-module--contentsTree__leaf--8208d">  │</div><div class="ContentsTree-module--contentsTree__leaf--8208d">  ├── Study</div><div><a href="https://bill0077.github.io/my-blog/devops" class="ContentsTree-module--contentsTree__leaf--8208d">  │     └── devops</a></div><div class="ContentsTree-module--contentsTree__leaf--8208d">  │</div><div><a href="https://bill0077.github.io/my-blog/etc" class="ContentsTree-module--contentsTree__leaf--8208d">  └── etc</a></div></div></nav><div class="Post-module--post__background--9bfff"></div><div class="Post-module--post__content--4d366"><div class="Post-module--post__content__markdown--f2389"><div class="Post-module--post__content__markdown__title--f6def">개발 블로그 개발기 - 9. 홈 페이지 디자인</div><div class="Post-module--post__content__markdown__author--c2fcc">written by bill0077</div><div class="Post-module--post__content__markdown__date--5506d">date: 2024-02-25</div><p style="color:#D0D0D0;font-size:2.5vh;line-height:160%" node="[object Object]"><p style="color:white;display:inline;font-weight:bold" node="[object Object]">Demo: <a to="https://bill0077.github.io/my-blog" style="color:cadetblue;display:inline" href="https://bill0077.github.io/my-blog" node="[object Object]">https://bill0077.github.io/my-blog</a><br/>
Git commit: <a to="https://github.com/bill0077/my-blog/commit/a1417ecde09d3bb2b4739ed126803c46fa45750a" style="color:cadetblue;display:inline" href="https://github.com/bill0077/my-blog/commit/a1417ecde09d3bb2b4739ed126803c46fa45750a" node="[object Object]">https://github.com/bill0077/my-blog/commit/a1417ecde09d3bb2b4739ed126803c46fa45750a</a></p></p>
<h1 style="color:white;border-bottom:solid" node="[object Object]">홈 페이지 디자인</h1>
<p style="color:#D0D0D0;font-size:2.5vh;line-height:160%" node="[object Object]">지금 블로그가 지원하는 기능들은 아래와 같다.</p>
<ol>
<li style="color:#D0D0D0;font-size:2.5vh;line-height:150%" node="[object Object]">홈에서 글 목록 페이지로 이동 가능</li>
<li style="color:#D0D0D0;font-size:2.5vh;line-height:150%" node="[object Object]">글 페이지를 모아둔 글 목록 페이지에서 각각의 글 조회 가능</li>
<li style="color:#D0D0D0;font-size:2.5vh;line-height:150%" node="[object Object]">각각의 글 페이지 접속 가능</li>
</ol>
<p style="color:#D0D0D0;font-size:2.5vh;line-height:160%" node="[object Object]">이정도면 블로그 글 조회에는 큰 문제가 없다고 생각한다 (글 작성 기능도 추가하고 싶지만 이는 별도의 서버 준비 등 할일이 꽤나 많으므로 또 처음부터 다시 작업하는 일이 없으려면 충분한 조사 이후 진행하는 것이 나을 거 같다). 하지만 각종 페이지의 가독성이나 디자인 등에는 전혀 신경을 쓰지 않았으므로 외견을 좀 꾸며주는 작업을 먼저 진행하려고 한다. 가장 먼저 홈 페이지부터 다시 꾸며주도  록 했다. 기존 블로그 홈은 아래와 같다.</p>
<center>
<img src="https://raw.githubusercontent.com/bill0077/my-blog/gh-pages/post-contents/myblog-dev-log/media/blog_finish_decorating.png" width="100%" title="before-redesigning-home"/>
</center>
<p style="color:#D0D0D0;font-size:2.5vh;line-height:160%" node="[object Object]">임시 방편으로 띄워져 있는 자동차 모델과 작동되지 않는 dummy 추천 리스트 등 불필요한 부분은 지우고 간략히 다시 디자인 해보았다. 처음 Home 페이지를 만들때처럼 이번에도 ThreeJS를 이용했다. 구현된 결과부터 살펴보면 아래와 같다.</p>
<center>
<img src="https://raw.githubusercontent.com/bill0077/my-blog/gh-pages/post-contents/myblog-dev-log/media/home_after_redesign.png" width="100%" title="after-redesigning-home"/>
</center>
<p style="color:#D0D0D0;font-size:2.5vh;line-height:160%" node="[object Object]">나의 세계관을 나타낸다는 느낌으로 중심에 지구를 두고 여러 행성이 공전하도록 꾸며주었다. 각 행성은 커서를 올리면 행성별로 지정된 블로그 카테고리가 나타나고 행성을 클릭하면 해당 글목록으로 이동하게 된다. (여기에서 확인해보자! link: <a to="https://bill0077.github.io/my-blog" style="color:cadetblue;display:inline" href="https://bill0077.github.io/my-blog" node="[object Object]">https://bill0077.github.io/my-blog</a>) 구현된 코드는 아래와 같다.</p>
<p style="color:#D0D0D0;font-size:2.5vh;line-height:160%" node="[object Object]"><code style="color:darkcyan">Planet</code>는 각 카테고리를 담당할 행성들을 주어진 인자에 따라 구성해서 행성 모델링이 화면에 나타나도록 해준 컴포넌트이고, <code style="color:darkcyan">Home</code>는 각 이 Planet을 import해서 <code style="color:darkcyan">Canvas</code>에 그려내고 부가적인 정보를 표시하는 홈 페이지 컴포넌트이다 (<code style="color:darkcyan">Planet</code> 내부에서 사용할 3D 모델  은 Poly Pizza: <a to="https://poly.pizza/" style="color:cadetblue;display:inline" href="https://poly.pizza/" node="[object Object]">https://poly.pizza/</a> 에서 다운받았으며, 모든 모델은 출처만 남기면 자유로운 사용이 가능한 라이선스를 가지고 있다). <code style="color:darkcyan">Planet</code>전부 Home과 Planet모두 three-fiber과 three-drei를 사용하므로 실행을 위해서는 설치가 필요하다.</p>
<pre><div style="color:#a9b7c6;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#2b2b2b"><code class="language-cmd" style="color:#a9b7c6;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>npm install @react-three/drei
</span>npm install three @types/three @react-three/fiber</code></div></pre>
<pre><div style="color:#a9b7c6;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#2b2b2b"><code class="language-js" style="color:#a9b7c6;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#808080">//Planet.js</span><span>
</span><span></span><span class="token module" style="color:#cc7832">import</span><span> </span><span class="token imports maybe-class-name">React</span><span class="token imports" style="color:#a9b7c6">,</span><span class="token imports"> </span><span class="token imports" style="color:#a9b7c6">{</span><span class="token imports"> useState</span><span class="token imports" style="color:#a9b7c6">,</span><span class="token imports"> useRef </span><span class="token imports" style="color:#a9b7c6">}</span><span> </span><span class="token module" style="color:#cc7832">from</span><span> </span><span class="token" style="color:#6a8759">&quot;react&quot;</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span></span><span class="token module" style="color:#cc7832">import</span><span> </span><span class="token imports" style="color:#a9b7c6">{</span><span class="token imports"> useFrame </span><span class="token imports" style="color:#a9b7c6">}</span><span> </span><span class="token module" style="color:#cc7832">from</span><span> </span><span class="token" style="color:#6a8759">&quot;@react-three/fiber&quot;</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span></span><span class="token module" style="color:#cc7832">import</span><span> </span><span class="token imports" style="color:#a9b7c6">{</span><span class="token imports"> useGLTF</span><span class="token imports" style="color:#a9b7c6">,</span><span class="token imports"> </span><span class="token imports maybe-class-name">Text3D</span><span class="token imports" style="color:#a9b7c6">,</span><span class="token imports"> </span><span class="token imports maybe-class-name">BBAnchor</span><span class="token imports"> </span><span class="token imports" style="color:#a9b7c6">}</span><span> </span><span class="token module" style="color:#cc7832">from</span><span> </span><span class="token" style="color:#6a8759">&quot;@react-three/drei&quot;</span><span class="token" style="color:#a9b7c6">;</span><span>
</span>
<span></span><span class="token module" style="color:#cc7832">import</span><span> </span><span class="token imports">taebaekJsonPath</span><span> </span><span class="token module" style="color:#cc7832">from</span><span> </span><span class="token" style="color:#6a8759">&quot;../../static/fonts/TAEBAEK-Regular.json&quot;</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span></span><span class="token module" style="color:#cc7832">import</span><span> </span><span class="token imports" style="color:#a9b7c6">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">MeshNormalMaterial</span><span class="token imports" style="color:#a9b7c6">,</span><span class="token imports"> </span><span class="token imports maybe-class-name">Vector3</span><span class="token imports"> </span><span class="token imports" style="color:#a9b7c6">}</span><span> </span><span class="token module" style="color:#cc7832">from</span><span> </span><span class="token" style="color:#6a8759">&quot;three&quot;</span><span class="token" style="color:#a9b7c6">;</span><span>
</span>
<span></span><span class="token module" style="color:#cc7832">export</span><span> </span><span class="token module" style="color:#cc7832">default</span><span> </span><span class="token" style="color:#cc7832">function</span><span> </span><span class="token maybe-class-name" style="color:#ffc66d">Planet</span><span class="token" style="color:#a9b7c6">(</span><span class="token parameter">props</span><span class="token" style="color:#a9b7c6">)</span><span> </span><span class="token" style="color:#a9b7c6">{</span><span>
</span><span>  </span><span class="token" style="color:#cc7832">const</span><span> </span><span class="token" style="color:#a9b7c6">{</span><span> name</span><span class="token" style="color:#a9b7c6">,</span><span> link</span><span class="token" style="color:#a9b7c6">,</span><span> filePath</span><span class="token" style="color:#a9b7c6">,</span><span> heightOffset</span><span class="token" style="color:#a9b7c6">,</span><span> rotateSpeed</span><span class="token" style="color:#a9b7c6">,</span><span> orbitRadius</span><span class="token" style="color:#a9b7c6">,</span><span> orbitSpeed</span><span class="token" style="color:#a9b7c6">,</span><span> defaultScale </span><span class="token" style="color:#a9b7c6">}</span><span> </span><span class="token" style="color:#a9b7c6">=</span><span> props</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span>  </span><span class="token" style="color:#cc7832">const</span><span> </span><span class="token" style="color:#a9b7c6">[</span><span>isHovered</span><span class="token" style="color:#a9b7c6">,</span><span> setHover</span><span class="token" style="color:#a9b7c6">]</span><span> </span><span class="token" style="color:#a9b7c6">=</span><span> </span><span class="token" style="color:#ffc66d">useState</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#cc7832">false</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span>  </span><span class="token" style="color:#cc7832">const</span><span> hoverStartTime </span><span class="token" style="color:#a9b7c6">=</span><span> </span><span class="token" style="color:#ffc66d">useRef</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#6897bb">0</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span>  </span><span class="token" style="color:#cc7832">const</span><span> totalHoverTime </span><span class="token" style="color:#a9b7c6">=</span><span> </span><span class="token" style="color:#ffc66d">useRef</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#6897bb">0</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span>  </span><span class="token" style="color:#cc7832">const</span><span> cameraPosition </span><span class="token" style="color:#a9b7c6">=</span><span> </span><span class="token" style="color:#ffc66d">useRef</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#a9b7c6">}</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span>  </span><span class="token" style="color:#cc7832">const</span><span> cameraAngle </span><span class="token" style="color:#a9b7c6">=</span><span> </span><span class="token" style="color:#ffc66d">useRef</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#a9b7c6">}</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span><span>
</span>
<span>  </span><span class="token" style="color:#cc7832">const</span><span> </span><span class="token function-variable" style="color:#ffc66d">handleHover</span><span> </span><span class="token" style="color:#a9b7c6">=</span><span> </span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">)</span><span> </span><span class="token arrow" style="color:#a9b7c6">=&gt;</span><span> </span><span class="token" style="color:#ffc66d">setHover</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#cc7832">true</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span>  </span><span class="token" style="color:#cc7832">const</span><span> </span><span class="token function-variable" style="color:#ffc66d">handleLeave</span><span> </span><span class="token" style="color:#a9b7c6">=</span><span> </span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">)</span><span> </span><span class="token arrow" style="color:#a9b7c6">=&gt;</span><span> </span><span class="token" style="color:#ffc66d">setHover</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#cc7832">false</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span>  </span><span class="token" style="color:#cc7832">const</span><span> </span><span class="token function-variable" style="color:#ffc66d">handleClick</span><span> </span><span class="token" style="color:#a9b7c6">=</span><span> </span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">)</span><span> </span><span class="token arrow" style="color:#a9b7c6">=&gt;</span><span> </span><span class="token" style="color:#a9b7c6">{</span><span>
</span><span>    </span><span class="token dom" style="color:#9876aa">window</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">location</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">href</span><span> </span><span class="token" style="color:#a9b7c6">=</span><span> </span><span class="token template-string template-punctuation" style="color:#6a8759">`</span><span class="token template-string interpolation interpolation-punctuation" style="color:#a9b7c6">${</span><span class="token template-string interpolation">process</span><span class="token template-string interpolation" style="color:#a9b7c6">.</span><span class="token template-string interpolation property-access">env</span><span class="token template-string interpolation" style="color:#a9b7c6">.</span><span class="token template-string interpolation" style="color:#9876aa">GATSBY_PUBLIC_URL</span><span class="token template-string interpolation interpolation-punctuation" style="color:#a9b7c6">}</span><span class="token template-string" style="color:#6a8759">/</span><span class="token template-string interpolation interpolation-punctuation" style="color:#a9b7c6">${</span><span class="token template-string interpolation">link</span><span class="token template-string interpolation interpolation-punctuation" style="color:#a9b7c6">}</span><span class="token template-string template-punctuation" style="color:#6a8759">`</span><span class="token" style="color:#a9b7c6">;</span><span> 
</span><span>  </span><span class="token" style="color:#a9b7c6">}</span><span class="token" style="color:#a9b7c6">;</span><span>
</span>
<span>  </span><span class="token" style="color:#cc7832">const</span><span> </span><span class="token" style="color:#a9b7c6">{</span><span> scene </span><span class="token" style="color:#a9b7c6">}</span><span> </span><span class="token" style="color:#a9b7c6">=</span><span> </span><span class="token" style="color:#ffc66d">useGLTF</span><span class="token" style="color:#a9b7c6">(</span><span class="token template-string template-punctuation" style="color:#6a8759">`</span><span class="token template-string interpolation interpolation-punctuation" style="color:#a9b7c6">${</span><span class="token template-string interpolation">process</span><span class="token template-string interpolation" style="color:#a9b7c6">.</span><span class="token template-string interpolation property-access">env</span><span class="token template-string interpolation" style="color:#a9b7c6">.</span><span class="token template-string interpolation" style="color:#9876aa">GATSBY_FILESERVER_URL</span><span class="token template-string interpolation interpolation-punctuation" style="color:#a9b7c6">}</span><span class="token template-string" style="color:#6a8759">/</span><span class="token template-string interpolation interpolation-punctuation" style="color:#a9b7c6">${</span><span class="token template-string interpolation">filePath</span><span class="token template-string interpolation interpolation-punctuation" style="color:#a9b7c6">}</span><span class="token template-string template-punctuation" style="color:#6a8759">`</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span>  </span><span class="token" style="color:#cc7832">const</span><span> planetRef </span><span class="token" style="color:#a9b7c6">=</span><span> </span><span class="token" style="color:#ffc66d">useRef</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span>  </span><span class="token" style="color:#ffc66d">useFrame</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">(</span><span class="token parameter">state</span><span class="token" style="color:#a9b7c6">)</span><span> </span><span class="token arrow" style="color:#a9b7c6">=&gt;</span><span> </span><span class="token" style="color:#a9b7c6">{</span><span>
</span><span>    </span><span class="token control-flow" style="color:#cc7832">if</span><span> </span><span class="token" style="color:#a9b7c6">(</span><span>planetRef</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">current</span><span class="token" style="color:#a9b7c6">)</span><span> </span><span class="token" style="color:#a9b7c6">{</span><span>
</span><span>      planetRef</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">current</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">position</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">y</span><span> </span><span class="token" style="color:#a9b7c6">=</span><span> heightOffset</span><span class="token" style="color:#a9b7c6">;</span><span> </span><span class="token" style="color:#808080">// set y axis offset</span><span>
</span><span>      cameraAngle</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">current</span><span> </span><span class="token" style="color:#a9b7c6">=</span><span> state</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">camera</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">rotation</span><span class="token" style="color:#a9b7c6">;</span><span> </span><span class="token" style="color:#808080">// save current camera angle</span><span>
</span><span>      cameraPosition</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">current</span><span> </span><span class="token" style="color:#a9b7c6">=</span><span> state</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">camera</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">position</span><span class="token" style="color:#a9b7c6">;</span><span> </span><span class="token" style="color:#808080">// save current camera position</span><span>
</span>      
<span>      </span><span class="token" style="color:#cc7832">const</span><span> elapsedTime </span><span class="token" style="color:#a9b7c6">=</span><span> state</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">clock</span><span class="token" style="color:#a9b7c6">.</span><span class="token method property-access" style="color:#ffc66d">getElapsedTime</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span><span> </span><span class="token" style="color:#808080">// get the elapsed time</span><span>
</span>
<span>      </span><span class="token control-flow" style="color:#cc7832">if</span><span> </span><span class="token" style="color:#a9b7c6">(</span><span>isHovered </span><span class="token" style="color:#a9b7c6">&amp;&amp;</span><span> hoverStartTime</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">current</span><span> </span><span class="token" style="color:#a9b7c6">===</span><span> </span><span class="token" style="color:#6897bb">0</span><span class="token" style="color:#a9b7c6">)</span><span> </span><span class="token" style="color:#a9b7c6">{</span><span>
</span><span>        hoverStartTime</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">current</span><span> </span><span class="token" style="color:#a9b7c6">=</span><span> elapsedTime</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span>      </span><span class="token" style="color:#a9b7c6">}</span><span> </span><span class="token control-flow" style="color:#cc7832">else</span><span> </span><span class="token control-flow" style="color:#cc7832">if</span><span> </span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">!</span><span>isHovered </span><span class="token" style="color:#a9b7c6">&amp;&amp;</span><span> hoverStartTime</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">current</span><span class="token" style="color:#a9b7c6">)</span><span> </span><span class="token" style="color:#a9b7c6">{</span><span>
</span><span>        totalHoverTime</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">current</span><span> </span><span class="token" style="color:#a9b7c6">+=</span><span> elapsedTime </span><span class="token" style="color:#a9b7c6">-</span><span> hoverStartTime</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">current</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span>        hoverStartTime</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">current</span><span> </span><span class="token" style="color:#a9b7c6">=</span><span> </span><span class="token" style="color:#6897bb">0</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span>      </span><span class="token" style="color:#a9b7c6">}</span><span> </span><span class="token control-flow" style="color:#cc7832">else</span><span> </span><span class="token control-flow" style="color:#cc7832">if</span><span> </span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">!</span><span>isHovered</span><span class="token" style="color:#a9b7c6">)</span><span> </span><span class="token" style="color:#a9b7c6">{</span><span>
</span><span>        hoverStartTime</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">current</span><span> </span><span class="token" style="color:#a9b7c6">=</span><span> </span><span class="token" style="color:#6897bb">0</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span>      </span><span class="token" style="color:#a9b7c6">}</span><span>
</span>
<span>      </span><span class="token" style="color:#808080">// Update the scale based on time elased after hover</span><span>
</span><span>      </span><span class="token" style="color:#cc7832">const</span><span> hoverElapsedTime </span><span class="token" style="color:#a9b7c6">=</span><span> elapsedTime </span><span class="token" style="color:#a9b7c6">-</span><span> hoverStartTime</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">current</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span>      </span><span class="token" style="color:#cc7832">const</span><span> scaleMotionFrame </span><span class="token" style="color:#a9b7c6">=</span><span> </span><span class="token" style="color:#6897bb">1</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span>      </span><span class="token" style="color:#cc7832">const</span><span> scaleMotionSpeed </span><span class="token" style="color:#a9b7c6">=</span><span> </span><span class="token" style="color:#6897bb">4</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span>      </span><span class="token" style="color:#cc7832">const</span><span> maxScaleRatio </span><span class="token" style="color:#a9b7c6">=</span><span> </span><span class="token" style="color:#6897bb">1.5</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span>      </span><span class="token" style="color:#cc7832">var</span><span> scaleRatio</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span>      </span><span class="token control-flow" style="color:#cc7832">if</span><span> </span><span class="token" style="color:#a9b7c6">(</span><span>hoverStartTime</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">current</span><span class="token" style="color:#a9b7c6">)</span><span> </span><span class="token" style="color:#a9b7c6">{</span><span> </span><span class="token" style="color:#808080">// hoverStartTime used instead of isHovered because isHovered cause flickering in motion </span><span>
</span><span>        scaleRatio </span><span class="token" style="color:#a9b7c6">=</span><span> </span><span class="token known-class-name class-name">Math</span><span class="token" style="color:#a9b7c6">.</span><span class="token method property-access" style="color:#ffc66d">max</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#6897bb">1</span><span class="token" style="color:#a9b7c6">,</span><span> maxScaleRatio </span><span class="token" style="color:#a9b7c6">-</span><span> </span><span class="token known-class-name class-name">Math</span><span class="token" style="color:#a9b7c6">.</span><span class="token method property-access" style="color:#ffc66d">pow</span><span class="token" style="color:#a9b7c6">(</span><span class="token known-class-name class-name">Math</span><span class="token" style="color:#a9b7c6">.</span><span class="token method property-access" style="color:#ffc66d">max</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#6897bb">0</span><span class="token" style="color:#a9b7c6">,</span><span> scaleMotionFrame </span><span class="token" style="color:#a9b7c6">-</span><span> hoverElapsedTime</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">,</span><span> scaleMotionSpeed</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span>      </span><span class="token" style="color:#a9b7c6">}</span><span> </span><span class="token control-flow" style="color:#cc7832">else</span><span> </span><span class="token" style="color:#a9b7c6">{</span><span>
</span><span>        scaleRatio </span><span class="token" style="color:#a9b7c6">=</span><span> </span><span class="token" style="color:#6897bb">1</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span>      </span><span class="token" style="color:#a9b7c6">}</span><span>
</span><span>      </span><span class="token" style="color:#cc7832">const</span><span> scale </span><span class="token" style="color:#a9b7c6">=</span><span> </span><span class="token" style="color:#a9b7c6">[</span><span>defaultScale</span><span class="token" style="color:#a9b7c6">*</span><span>scaleRatio</span><span class="token" style="color:#a9b7c6">,</span><span> defaultScale</span><span class="token" style="color:#a9b7c6">*</span><span>scaleRatio</span><span class="token" style="color:#a9b7c6">,</span><span> defaultScale</span><span class="token" style="color:#a9b7c6">*</span><span>scaleRatio</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span>      planetRef</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">current</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">scale</span><span class="token" style="color:#a9b7c6">.</span><span class="token method property-access" style="color:#ffc66d">set</span><span class="token" style="color:#a9b7c6">(</span><span class="token spread" style="color:#a9b7c6">...</span><span>scale</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span><span>
</span>
<span>      </span><span class="token control-flow" style="color:#cc7832">if</span><span> </span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">!</span><span>hoverStartTime</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">current</span><span class="token" style="color:#a9b7c6">)</span><span> </span><span class="token" style="color:#a9b7c6">{</span><span>
</span><span>        </span><span class="token" style="color:#808080">// Update the position based on the orbit equation (when not hovered)</span><span>
</span><span>        planetRef</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">current</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">position</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">x</span><span> </span><span class="token" style="color:#a9b7c6">=</span><span> </span><span class="token known-class-name class-name">Math</span><span class="token" style="color:#a9b7c6">.</span><span class="token method property-access" style="color:#ffc66d">cos</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">(</span><span>elapsedTime </span><span class="token" style="color:#a9b7c6">-</span><span> totalHoverTime</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">current</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">*</span><span> orbitSpeed</span><span class="token" style="color:#a9b7c6">)</span><span> </span><span class="token" style="color:#a9b7c6">*</span><span> orbitRadius</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span>        planetRef</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">current</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">position</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">z</span><span> </span><span class="token" style="color:#a9b7c6">=</span><span> </span><span class="token known-class-name class-name">Math</span><span class="token" style="color:#a9b7c6">.</span><span class="token method property-access" style="color:#ffc66d">sin</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">(</span><span>elapsedTime </span><span class="token" style="color:#a9b7c6">-</span><span> totalHoverTime</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">current</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">*</span><span> orbitSpeed</span><span class="token" style="color:#a9b7c6">)</span><span> </span><span class="token" style="color:#a9b7c6">*</span><span> orbitRadius</span><span class="token" style="color:#a9b7c6">;</span><span>
</span>      
<span>        </span><span class="token" style="color:#808080">// Rotate by given speed (when not hovered)</span><span>
</span><span>        planetRef</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">current</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">rotation</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">y</span><span> </span><span class="token" style="color:#a9b7c6">-=</span><span> rotateSpeed</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span>      </span><span class="token" style="color:#a9b7c6">}</span><span>
</span><span>    </span><span class="token" style="color:#a9b7c6">}</span><span>
</span><span>  </span><span class="token" style="color:#a9b7c6">}</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span><span>
</span>
<span>  </span><span class="token" style="color:#cc7832">var</span><span> textVec </span><span class="token" style="color:#a9b7c6">=</span><span> </span><span class="token" style="color:#cc7832">new</span><span> </span><span class="token class-name">Vector3</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#6897bb">0</span><span class="token" style="color:#a9b7c6">,</span><span> </span><span class="token" style="color:#6897bb">0</span><span class="token" style="color:#a9b7c6">,</span><span> </span><span class="token" style="color:#6897bb">0</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span>  </span><span class="token" style="color:#cc7832">const</span><span> textDistance </span><span class="token" style="color:#a9b7c6">=</span><span> </span><span class="token" style="color:#6897bb">200</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span>  </span><span class="token control-flow" style="color:#cc7832">if</span><span> </span><span class="token" style="color:#a9b7c6">(</span><span>planetRef</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">current</span><span> </span><span class="token" style="color:#a9b7c6">&amp;&amp;</span><span> cameraAngle</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">current</span><span class="token" style="color:#a9b7c6">)</span><span> </span><span class="token" style="color:#a9b7c6">{</span><span>
</span><span>    </span><span class="token" style="color:#cc7832">const</span><span> vecCurr </span><span class="token" style="color:#a9b7c6">=</span><span> </span><span class="token" style="color:#cc7832">new</span><span> </span><span class="token class-name">Vector3</span><span class="token" style="color:#a9b7c6">(</span><span>
</span><span>      cameraPosition</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">current</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">x</span><span class="token" style="color:#a9b7c6">-</span><span>planetRef</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">current</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">position</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">x</span><span class="token" style="color:#a9b7c6">,</span><span>
</span><span>      cameraPosition</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">current</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">y</span><span class="token" style="color:#a9b7c6">-</span><span>planetRef</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">current</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">position</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">y</span><span class="token" style="color:#a9b7c6">,</span><span>
</span><span>      cameraPosition</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">current</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">z</span><span class="token" style="color:#a9b7c6">-</span><span>planetRef</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">current</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">position</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">z</span><span class="token" style="color:#a9b7c6">,</span><span>
</span><span>    </span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span>    textVec </span><span class="token" style="color:#a9b7c6">=</span><span> vecCurr</span><span class="token" style="color:#a9b7c6">.</span><span class="token method property-access" style="color:#ffc66d">normalize</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">.</span><span class="token method property-access" style="color:#ffc66d">multiplyScalar</span><span class="token" style="color:#a9b7c6">(</span><span>textDistance</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span>  </span><span class="token" style="color:#a9b7c6">}</span><span>
</span>
<span>  </span><span class="token" style="color:#cc7832">const</span><span> planetMaterial </span><span class="token" style="color:#a9b7c6">=</span><span> </span><span class="token" style="color:#cc7832">new</span><span> </span><span class="token class-name">MeshNormalMaterial</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span>  </span><span class="token control-flow" style="color:#cc7832">return</span><span> </span><span class="token" style="color:#a9b7c6">(</span><span>
</span><span>    </span><span class="token" style="color:#a9b7c6">&lt;</span><span>group</span><span class="token" style="color:#a9b7c6">&gt;</span><span>
</span><span>      </span><span class="token" style="color:#a9b7c6">{</span><span>isHovered </span><span class="token" style="color:#a9b7c6">&amp;&amp;</span><span> planetRef</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">current</span><span> </span><span class="token" style="color:#a9b7c6">&amp;&amp;</span><span> cameraAngle</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">current</span><span> </span><span class="token" style="color:#a9b7c6">&amp;&amp;</span><span> </span><span class="token" style="color:#a9b7c6">(</span><span>
</span><span>        </span><span class="token" style="color:#a9b7c6">&lt;</span><span class="token maybe-class-name">BBAnchor</span><span> anchor</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#a9b7c6">[</span><span class="token" style="color:#6897bb">0.3</span><span class="token" style="color:#a9b7c6">,</span><span> </span><span class="token" style="color:#6897bb">0.3</span><span class="token" style="color:#a9b7c6">,</span><span> </span><span class="token" style="color:#6897bb">0.3</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">}</span><span class="token" style="color:#a9b7c6">&gt;</span><span> 
</span><span>          </span><span class="token" style="color:#a9b7c6">&lt;</span><span class="token maybe-class-name">Text3D</span><span>
</span><span>          position</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#a9b7c6">[</span><span> </span><span class="token" style="color:#808080">// set the position of the text same as object</span><span>
</span><span>            planetRef</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">current</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">position</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">x</span><span class="token" style="color:#a9b7c6">+</span><span>textVec</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">x</span><span class="token" style="color:#a9b7c6">,</span><span>
</span><span>            planetRef</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">current</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">position</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">y</span><span class="token" style="color:#a9b7c6">+</span><span>textVec</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">y</span><span class="token" style="color:#a9b7c6">,</span><span>
</span><span>            planetRef</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">current</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">position</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">z</span><span class="token" style="color:#a9b7c6">+</span><span>textVec</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">z</span><span>
</span><span>          </span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">}</span><span>
</span><span>          rotation</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#a9b7c6">[</span><span> </span><span class="token" style="color:#808080">// set the angle of the text to face camera</span><span>
</span><span>            cameraAngle</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">current</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">x</span><span class="token" style="color:#a9b7c6">,</span><span>
</span><span>            cameraAngle</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">current</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">y</span><span class="token" style="color:#a9b7c6">,</span><span>
</span><span>            cameraAngle</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">current</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">z</span><span>
</span><span>          </span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">}</span><span>
</span><span>          font</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span>taebaekJsonPath</span><span class="token" style="color:#a9b7c6">}</span><span> </span><span class="token" style="color:#808080">// font type</span><span>
</span><span>          size</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#6897bb">50</span><span class="token" style="color:#a9b7c6">}</span><span> </span><span class="token" style="color:#808080">// set the font size</span><span>
</span><span>          height</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#6897bb">40</span><span class="token" style="color:#a9b7c6">}</span><span>
</span><span>          material</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span>planetMaterial</span><span class="token" style="color:#a9b7c6">}</span><span class="token" style="color:#a9b7c6">&gt;</span><span>
</span><span>          </span><span class="token" style="color:#a9b7c6">{</span><span>name</span><span class="token" style="color:#a9b7c6">}</span><span>
</span><span>          </span><span class="token" style="color:#a9b7c6">&lt;</span><span class="token" style="color:#a9b7c6">/</span><span class="token maybe-class-name">Text3D</span><span class="token" style="color:#a9b7c6">&gt;</span><span>
</span><span>        </span><span class="token" style="color:#a9b7c6">&lt;</span><span class="token" style="color:#a9b7c6">/</span><span class="token maybe-class-name">BBAnchor</span><span class="token" style="color:#a9b7c6">&gt;</span><span>
</span><span>      </span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">}</span><span>
</span>      
<span>      </span><span class="token" style="color:#a9b7c6">&lt;</span><span>primitive 
</span><span>        onPointerOver</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span>handleHover</span><span class="token" style="color:#a9b7c6">}</span><span>
</span><span>        onPointerOut</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span>handleLeave</span><span class="token" style="color:#a9b7c6">}</span><span>
</span><span>        onClick</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span>handleClick</span><span class="token" style="color:#a9b7c6">}</span><span>
</span><span>        object</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span>scene</span><span class="token" style="color:#a9b7c6">}</span><span>
</span><span>        ref</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span>planetRef</span><span class="token" style="color:#a9b7c6">}</span><span>
</span><span>        </span><span class="token" style="color:#a9b7c6">{</span><span class="token spread" style="color:#a9b7c6">...</span><span>props</span><span class="token" style="color:#a9b7c6">}</span><span>
</span><span>      </span><span class="token" style="color:#a9b7c6">/</span><span class="token" style="color:#a9b7c6">&gt;</span><span>
</span><span>    </span><span class="token" style="color:#a9b7c6">&lt;</span><span class="token" style="color:#a9b7c6">/</span><span>group</span><span class="token" style="color:#a9b7c6">&gt;</span><span>
</span><span>  </span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span></span><span class="token" style="color:#a9b7c6">}</span></code></div></pre>
<pre><div style="color:#a9b7c6;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#2b2b2b"><code class="language-js" style="color:#a9b7c6;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#808080">// Home.js</span><span>
</span><span></span><span class="token module" style="color:#cc7832">import</span><span> </span><span class="token imports maybe-class-name">React</span><span class="token imports" style="color:#a9b7c6">,</span><span class="token imports"> </span><span class="token imports" style="color:#a9b7c6">{</span><span class="token imports"> useRef </span><span class="token imports" style="color:#a9b7c6">}</span><span> </span><span class="token module" style="color:#cc7832">from</span><span> </span><span class="token" style="color:#6a8759">&quot;react&quot;</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span></span><span class="token module" style="color:#cc7832">import</span><span> </span><span class="token imports" style="color:#a9b7c6">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">Canvas</span><span class="token imports"> </span><span class="token imports" style="color:#a9b7c6">}</span><span> </span><span class="token module" style="color:#cc7832">from</span><span> </span><span class="token" style="color:#6a8759">&quot;@react-three/fiber&quot;</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span></span><span class="token module" style="color:#cc7832">import</span><span> </span><span class="token imports" style="color:#a9b7c6">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">Stage</span><span class="token imports" style="color:#a9b7c6">,</span><span class="token imports"> </span><span class="token imports maybe-class-name">PerspectiveCamera</span><span class="token imports" style="color:#a9b7c6">,</span><span class="token imports"> </span><span class="token imports maybe-class-name">CameraControls</span><span class="token imports"> </span><span class="token imports" style="color:#a9b7c6">}</span><span> </span><span class="token module" style="color:#cc7832">from</span><span> </span><span class="token" style="color:#6a8759">&quot;@react-three/drei&quot;</span><span class="token" style="color:#a9b7c6">;</span><span>
</span>
<span></span><span class="token module" style="color:#cc7832">import</span><span> </span><span class="token imports maybe-class-name">Planet</span><span> </span><span class="token module" style="color:#cc7832">from</span><span> </span><span class="token" style="color:#6a8759">&quot;../components/Planet&quot;</span><span class="token" style="color:#a9b7c6">;</span><span>
</span>
<span></span><span class="token module" style="color:#cc7832">import</span><span> </span><span class="token imports" style="color:#a9b7c6">*</span><span class="token imports"> </span><span class="token imports module" style="color:#cc7832">as</span><span class="token imports"> styles</span><span> </span><span class="token module" style="color:#cc7832">from</span><span> </span><span class="token" style="color:#6a8759">&quot;../styles/Home.module.css&quot;</span><span class="token" style="color:#a9b7c6">;</span><span>
</span>
<span></span><span class="token module" style="color:#cc7832">export</span><span> </span><span class="token module" style="color:#cc7832">default</span><span> </span><span class="token" style="color:#cc7832">function</span><span> </span><span class="token maybe-class-name" style="color:#ffc66d">Home</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">)</span><span> </span><span class="token" style="color:#a9b7c6">{</span><span>
</span><span>  </span><span class="token" style="color:#cc7832">const</span><span> cameraRef </span><span class="token" style="color:#a9b7c6">=</span><span> </span><span class="token" style="color:#ffc66d">useRef</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span><span>
</span>
<span>  </span><span class="token control-flow" style="color:#cc7832">return</span><span> </span><span class="token" style="color:#a9b7c6">(</span><span>
</span><span>  </span><span class="token" style="color:#a9b7c6">&lt;</span><span>div className</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span>styles</span><span class="token" style="color:#a9b7c6">[</span><span class="token" style="color:#6a8759">&quot;home&quot;</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">}</span><span class="token" style="color:#a9b7c6">&gt;</span><span>
</span><span>    </span><span class="token" style="color:#a9b7c6">&lt;</span><span>div className</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span>styles</span><span class="token" style="color:#a9b7c6">[</span><span class="token" style="color:#6a8759">&quot;home__main&quot;</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">}</span><span class="token" style="color:#a9b7c6">&gt;</span><span>
</span><span>      </span><span class="token" style="color:#a9b7c6">&lt;</span><span>div className</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span>styles</span><span class="token" style="color:#a9b7c6">[</span><span class="token" style="color:#6a8759">&quot;home__main__canvas&quot;</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">}</span><span class="token" style="color:#a9b7c6">&gt;</span><span>
</span><span>        </span><span class="token" style="color:#a9b7c6">&lt;</span><span class="token maybe-class-name">Canvas</span><span> dpr</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#a9b7c6">[</span><span class="token" style="color:#6897bb">1</span><span class="token" style="color:#a9b7c6">,</span><span class="token" style="color:#6897bb">2</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">}</span><span> shadows</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#cc7832">false</span><span class="token" style="color:#a9b7c6">}</span><span class="token" style="color:#a9b7c6">&gt;</span><span>
</span><span>          </span><span class="token" style="color:#a9b7c6">&lt;</span><span class="token maybe-class-name">PerspectiveCamera</span><span> ref</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span>cameraRef</span><span class="token" style="color:#a9b7c6">}</span><span> makeDefault fov</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#6897bb">45</span><span class="token" style="color:#a9b7c6">}</span><span> near</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#6897bb">1</span><span class="token" style="color:#a9b7c6">}</span><span> far</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#6897bb">100000</span><span class="token" style="color:#a9b7c6">}</span><span> position</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#a9b7c6">[</span><span class="token" style="color:#6897bb">0</span><span class="token" style="color:#a9b7c6">,</span><span> </span><span class="token" style="color:#6897bb">500</span><span class="token" style="color:#a9b7c6">,</span><span> </span><span class="token" style="color:#6897bb">1000</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">}</span><span> </span><span class="token" style="color:#a9b7c6">/</span><span class="token" style="color:#a9b7c6">&gt;</span><span>
</span><span>          </span><span class="token" style="color:#a9b7c6">&lt;</span><span class="token maybe-class-name">CameraControls</span><span> camera</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span>cameraRef</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">current</span><span class="token" style="color:#a9b7c6">}</span><span> minDistance</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#6897bb">750</span><span class="token" style="color:#a9b7c6">}</span><span> maxDistance</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#6897bb">2500</span><span class="token" style="color:#a9b7c6">}</span><span> azimuthRotateSpeed</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#6897bb">0.3</span><span class="token" style="color:#a9b7c6">}</span><span> polarRotateSpeed</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#6897bb">0.5</span><span class="token" style="color:#a9b7c6">}</span><span> dollySpeed</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#6897bb">0.5</span><span class="token" style="color:#a9b7c6">}</span><span> </span><span class="token" style="color:#a9b7c6">/</span><span class="token" style="color:#a9b7c6">&gt;</span><span>
</span><span>          </span><span class="token" style="color:#a9b7c6">&lt;</span><span class="token maybe-class-name">Stage</span><span> camera</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span>cameraRef</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">current</span><span class="token" style="color:#a9b7c6">}</span><span> preset</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#6a8759">&quot;soft&quot;</span><span class="token" style="color:#a9b7c6">}</span><span> shadows</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#cc7832">false</span><span class="token" style="color:#a9b7c6">}</span><span> adjustCamera</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#cc7832">false</span><span class="token" style="color:#a9b7c6">}</span><span class="token" style="color:#a9b7c6">&gt;</span><span>
</span><span>            </span><span class="token" style="color:#a9b7c6">&lt;</span><span class="token maybe-class-name">Planet</span><span> name</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#6a8759">&quot;bill0077&quot;</span><span class="token" style="color:#a9b7c6">}</span><span> link</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token template-string template-punctuation" style="color:#6a8759">`</span><span class="token template-string" style="color:#6a8759">/</span><span class="token template-string template-punctuation" style="color:#6a8759">`</span><span class="token" style="color:#a9b7c6">}</span><span> filePath</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#6a8759">&quot;models/solarsystem/Earth.glb&quot;</span><span class="token" style="color:#a9b7c6">}</span><span> heightOffset</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#6897bb">150</span><span class="token" style="color:#a9b7c6">}</span><span> rotateSpeed</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#6897bb">0.002</span><span class="token" style="color:#a9b7c6">}</span><span> orbitRadius</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#6897bb">0</span><span class="token" style="color:#a9b7c6">}</span><span> orbitSpeed</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#6897bb">0</span><span class="token" style="color:#a9b7c6">}</span><span> defaultScale</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#6897bb">15</span><span class="token" style="color:#a9b7c6">}</span><span class="token" style="color:#a9b7c6">/</span><span class="token" style="color:#a9b7c6">&gt;</span><span>
</span><span>            </span><span class="token" style="color:#a9b7c6">&lt;</span><span class="token maybe-class-name">Planet</span><span> name</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#6a8759">&quot;my-blog&quot;</span><span class="token" style="color:#a9b7c6">}</span><span> link</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token template-string template-punctuation" style="color:#6a8759">`</span><span class="token template-string" style="color:#6a8759">myblog-dev-log</span><span class="token template-string template-punctuation" style="color:#6a8759">`</span><span class="token" style="color:#a9b7c6">}</span><span> filePath</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#6a8759">&quot;models/solarsystem/Moon.glb&quot;</span><span class="token" style="color:#a9b7c6">}</span><span> heightOffset</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#6897bb">150</span><span class="token" style="color:#a9b7c6">}</span><span> rotateSpeed</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#6897bb">0.025</span><span class="token" style="color:#a9b7c6">}</span><span> orbitRadius</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#6897bb">250</span><span class="token" style="color:#a9b7c6">}</span><span> orbitSpeed</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#6897bb">1</span><span class="token" style="color:#a9b7c6">}</span><span> defaultScale</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#6897bb">1.2</span><span class="token" style="color:#a9b7c6">}</span><span class="token" style="color:#a9b7c6">/</span><span class="token" style="color:#a9b7c6">&gt;</span><span>
</span><span>            </span><span class="token" style="color:#a9b7c6">&lt;</span><span class="token maybe-class-name">Planet</span><span> name</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#6a8759">&quot;devops&quot;</span><span class="token" style="color:#a9b7c6">}</span><span> link</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token template-string template-punctuation" style="color:#6a8759">`</span><span class="token template-string" style="color:#6a8759">devops</span><span class="token template-string template-punctuation" style="color:#6a8759">`</span><span class="token" style="color:#a9b7c6">}</span><span> filePath</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#6a8759">&quot;models/solarsystem/Jupiter.glb&quot;</span><span class="token" style="color:#a9b7c6">}</span><span> heightOffset</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#6897bb">150</span><span class="token" style="color:#a9b7c6">}</span><span> rotateSpeed</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#a9b7c6">-</span><span class="token" style="color:#6897bb">0.01</span><span class="token" style="color:#a9b7c6">}</span><span> orbitRadius</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#6897bb">400</span><span class="token" style="color:#a9b7c6">}</span><span> orbitSpeed</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#a9b7c6">-</span><span class="token" style="color:#6897bb">0.5</span><span class="token" style="color:#a9b7c6">}</span><span> defaultScale</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#6897bb">0.6</span><span class="token" style="color:#a9b7c6">}</span><span class="token" style="color:#a9b7c6">/</span><span class="token" style="color:#a9b7c6">&gt;</span><span>
</span><span>            </span><span class="token" style="color:#a9b7c6">&lt;</span><span class="token maybe-class-name">Planet</span><span> name</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#6a8759">&quot;etc&quot;</span><span class="token" style="color:#a9b7c6">}</span><span> link</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token template-string template-punctuation" style="color:#6a8759">`</span><span class="token template-string" style="color:#6a8759">etc</span><span class="token template-string template-punctuation" style="color:#6a8759">`</span><span class="token" style="color:#a9b7c6">}</span><span> filePath</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#6a8759">&quot;models/solarsystem/Venus.glb&quot;</span><span class="token" style="color:#a9b7c6">}</span><span> heightOffset</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#6897bb">150</span><span class="token" style="color:#a9b7c6">}</span><span> rotateSpeed</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#6897bb">0.02</span><span class="token" style="color:#a9b7c6">}</span><span> orbitRadius</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#6897bb">550</span><span class="token" style="color:#a9b7c6">}</span><span> orbitSpeed</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#6897bb">0.25</span><span class="token" style="color:#a9b7c6">}</span><span> defaultScale</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#6897bb">0.4</span><span class="token" style="color:#a9b7c6">}</span><span class="token" style="color:#a9b7c6">/</span><span class="token" style="color:#a9b7c6">&gt;</span><span>              
</span><span>            </span><span class="token" style="color:#a9b7c6">&lt;</span><span class="token maybe-class-name">Planet</span><span> name</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#6a8759">&quot;etc&quot;</span><span class="token" style="color:#a9b7c6">}</span><span> link</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token template-string template-punctuation" style="color:#6a8759">`</span><span class="token template-string" style="color:#6a8759">etc</span><span class="token template-string template-punctuation" style="color:#6a8759">`</span><span class="token" style="color:#a9b7c6">}</span><span> filePath</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#6a8759">&quot;models/solarsystem/Neptune.glb&quot;</span><span class="token" style="color:#a9b7c6">}</span><span> heightOffset</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#6897bb">150</span><span class="token" style="color:#a9b7c6">}</span><span> rotateSpeed</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#6897bb">0.005</span><span class="token" style="color:#a9b7c6">}</span><span> orbitRadius</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#6897bb">650</span><span class="token" style="color:#a9b7c6">}</span><span> orbitSpeed</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#6897bb">0.05</span><span class="token" style="color:#a9b7c6">}</span><span> defaultScale</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#6897bb">1.75</span><span class="token" style="color:#a9b7c6">}</span><span class="token" style="color:#a9b7c6">/</span><span class="token" style="color:#a9b7c6">&gt;</span><span>
</span><span>            </span><span class="token" style="color:#a9b7c6">&lt;</span><span class="token maybe-class-name">Planet</span><span> name</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#6a8759">&quot;etc&quot;</span><span class="token" style="color:#a9b7c6">}</span><span> link</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token template-string template-punctuation" style="color:#6a8759">`</span><span class="token template-string" style="color:#6a8759">etc</span><span class="token template-string template-punctuation" style="color:#6a8759">`</span><span class="token" style="color:#a9b7c6">}</span><span> filePath</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#6a8759">&quot;models/solarsystem/Saturn.glb&quot;</span><span class="token" style="color:#a9b7c6">}</span><span> heightOffset</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#6897bb">150</span><span class="token" style="color:#a9b7c6">}</span><span> rotateSpeed</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#6897bb">0</span><span class="token" style="color:#a9b7c6">}</span><span> orbitRadius</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#6897bb">800</span><span class="token" style="color:#a9b7c6">}</span><span> orbitSpeed</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#a9b7c6">-</span><span class="token" style="color:#6897bb">0.1</span><span class="token" style="color:#a9b7c6">}</span><span> defaultScale</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#6897bb">100</span><span class="token" style="color:#a9b7c6">}</span><span class="token" style="color:#a9b7c6">/</span><span class="token" style="color:#a9b7c6">&gt;</span><span>
</span><span>          </span><span class="token" style="color:#a9b7c6">&lt;</span><span class="token" style="color:#a9b7c6">/</span><span class="token maybe-class-name">Stage</span><span class="token" style="color:#a9b7c6">&gt;</span><span>
</span><span>        </span><span class="token" style="color:#a9b7c6">&lt;</span><span class="token" style="color:#a9b7c6">/</span><span class="token maybe-class-name">Canvas</span><span class="token" style="color:#a9b7c6">&gt;</span><span>
</span><span>      </span><span class="token" style="color:#a9b7c6">&lt;</span><span class="token" style="color:#a9b7c6">/</span><span>div</span><span class="token" style="color:#a9b7c6">&gt;</span><span>
</span><span>      </span><span class="token" style="color:#a9b7c6">&lt;</span><span>div className</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span>styles</span><span class="token" style="color:#a9b7c6">[</span><span class="token" style="color:#6a8759">&quot;home__main__titleBox&quot;</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">}</span><span class="token" style="color:#a9b7c6">&gt;</span><span>
</span><span>        </span><span class="token" style="color:#a9b7c6">&lt;</span><span>div className</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span>styles</span><span class="token" style="color:#a9b7c6">[</span><span class="token" style="color:#6a8759">&quot;home__main__titleBox__title&quot;</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">}</span><span class="token" style="color:#a9b7c6">&gt;</span><span>bill0077</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">log</span><span class="token" style="color:#a9b7c6">&lt;</span><span class="token" style="color:#a9b7c6">/</span><span>div</span><span class="token" style="color:#a9b7c6">&gt;</span><span>
</span><span>        </span><span class="token" style="color:#a9b7c6">&lt;</span><span>div className</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span>styles</span><span class="token" style="color:#a9b7c6">[</span><span class="token" style="color:#6a8759">&quot;home__main__titleBox__subtitle&quot;</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">}</span><span class="token" style="color:#a9b7c6">&gt;</span><span>함께 성장하는 개발자를 꿈꿉니다</span><span class="token" style="color:#a9b7c6">&lt;</span><span class="token" style="color:#a9b7c6">/</span><span>div</span><span class="token" style="color:#a9b7c6">&gt;</span><span>
</span><span>        </span><span class="token" style="color:#a9b7c6">&lt;</span><span>a href</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#6a8759">&quot;mailto:bill007tjr@gmail.com&quot;</span><span> rel</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#6a8759">&quot;noreferrer noopener&quot;</span><span> className</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span>styles</span><span class="token" style="color:#a9b7c6">[</span><span class="token" style="color:#6a8759">&quot;home__main__titleBox__contact&quot;</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">}</span><span class="token" style="color:#a9b7c6">&gt;</span><span>bill007tjr@gmail</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">com</span><span class="token" style="color:#a9b7c6">&lt;</span><span class="token" style="color:#a9b7c6">/</span><span>a</span><span class="token" style="color:#a9b7c6">&gt;</span><span>
</span><span>        </span><span class="token" style="color:#a9b7c6">&lt;</span><span>a href</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#6a8759">&quot;https://github.com/bill0077&quot;</span><span> target</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#6a8759">&quot;_blank&quot;</span><span> rel</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#6a8759">&quot;noreferrer noopener&quot;</span><span> className</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">{</span><span>styles</span><span class="token" style="color:#a9b7c6">[</span><span class="token" style="color:#6a8759">&quot;home__main__titleBox__contact&quot;</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">}</span><span class="token" style="color:#a9b7c6">&gt;</span><span>https</span><span class="token" style="color:#a9b7c6">:</span><span class="token" style="color:#a9b7c6">/</span><span class="token" style="color:#a9b7c6">/</span><span>github</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">com</span><span class="token" style="color:#a9b7c6">/</span><span>bill0077</span><span class="token" style="color:#a9b7c6">&lt;</span><span class="token" style="color:#a9b7c6">/</span><span>a</span><span class="token" style="color:#a9b7c6">&gt;</span><span>
</span><span>      </span><span class="token" style="color:#a9b7c6">&lt;</span><span class="token" style="color:#a9b7c6">/</span><span>div</span><span class="token" style="color:#a9b7c6">&gt;</span><span>
</span><span>    </span><span class="token" style="color:#a9b7c6">&lt;</span><span class="token" style="color:#a9b7c6">/</span><span>div</span><span class="token" style="color:#a9b7c6">&gt;</span><span>
</span><span>  </span><span class="token" style="color:#a9b7c6">&lt;</span><span class="token" style="color:#a9b7c6">/</span><span>div</span><span class="token" style="color:#a9b7c6">&gt;</span><span>
</span><span>  </span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span></span><span class="token" style="color:#a9b7c6">}</span></code></div></pre>
<h1 style="color:white;border-bottom:solid" node="[object Object]">Planet</h1>
<p style="color:#D0D0D0;font-size:2.5vh;line-height:160%" node="[object Object]">각 행성들은 아래와 같은 기능을 가져야 한다.</p>
<ol>
<li style="color:#D0D0D0;font-size:2.5vh;line-height:150%" node="[object Object]">지구를 중심으로 공전, 자전을 할 수 있어야 하고</li>
<li style="color:#D0D0D0;font-size:2.5vh;line-height:150%" node="[object Object]">커서를 올리면(=hover되면) 카테고리 이름을 띄우면서 이동을 멈추고</li>
<li style="color:#D0D0D0;font-size:2.5vh;line-height:150%" node="[object Object]">클릭하면 해당 카테고리의 글 목록 페이지로 이동한다.
어떻게 이러한 기능을 구현하였는지 적어보겠다.</li>
</ol>
<h2 style="color:white" node="[object Object]">model motion</h2>
<p style="color:#D0D0D0;font-size:2.5vh;line-height:160%" node="[object Object]">각 모델링의 움직임은 모두 <code style="color:darkcyan">useFrame</code> 안에서 이루어졌다. <code style="color:darkcyan">useFrame</code>은 three-fiber의 hook중 하나로, 이 hook은 내부의 코드가 특정 시간 간격, 즉 frame마다 실행되게 만들어서 내부에 서 object들의 움직임을 제어할 수 있도록 해준다. Ref를 생성해서 각 frame마다 어떤 행동을 할지 지정한다음, 해당 ref를 object를 생성하며 넘겨주면 object에 움직임을 추가해 줄 수 있다. Ref의 이름은 마음대로 정할수 있으므로 행성 ref을 의미하는 <code style="color:darkcyan">planetRef</code>를 선언하고 사용하였다.</p>
<p style="color:#D0D0D0;font-size:2.5vh;line-height:160%" node="[object Object]">공전과 자전을 위해서는 움직임과 각도를 모두 제어해야 하기 때문에 position과 rotation을 모두 조절해 주어야 한다. 렌더링 이후 흐른 시간을 <code style="color:darkcyan">state.clock.getElapsedTime()</code>을 이용해 얻고 시간에 따른 원운동 식을 이용하면 공전운동이 가능하다. 자전의 경우 현재 y축 방향 각도를 서서히 증가시키기만 해도 가능하다. 간단한 공전 및 자전 코드는 아래와 같다.</p>
<pre><div style="color:#a9b7c6;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#2b2b2b"><code class="language-js" style="color:#a9b7c6;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#cc7832">const</span><span> planetRef </span><span class="token" style="color:#a9b7c6">=</span><span> </span><span class="token" style="color:#ffc66d">useRef</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span></span><span class="token" style="color:#ffc66d">useFrame</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">(</span><span class="token parameter">state</span><span class="token" style="color:#a9b7c6">)</span><span> </span><span class="token arrow" style="color:#a9b7c6">=&gt;</span><span> </span><span class="token" style="color:#a9b7c6">{</span><span>
</span><span>  </span><span class="token" style="color:#cc7832">const</span><span> elapsedTime </span><span class="token" style="color:#a9b7c6">=</span><span> state</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">clock</span><span class="token" style="color:#a9b7c6">.</span><span class="token method property-access" style="color:#ffc66d">getElapsedTime</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span><span>
</span>
<span>  planetRef</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">current</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">position</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">x</span><span> </span><span class="token" style="color:#a9b7c6">=</span><span> </span><span class="token known-class-name class-name">Math</span><span class="token" style="color:#a9b7c6">.</span><span class="token method property-access" style="color:#ffc66d">cos</span><span class="token" style="color:#a9b7c6">(</span><span>elapsedTime </span><span class="token" style="color:#a9b7c6">*</span><span> orbitSpeed</span><span class="token" style="color:#a9b7c6">)</span><span> </span><span class="token" style="color:#a9b7c6">*</span><span> orbitRadius</span><span class="token" style="color:#a9b7c6">;</span><span> </span><span class="token" style="color:#808080">// 공전 시 x 좌표 (+x축은 화면 우측 방향)</span><span>
</span><span>  planetRef</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">current</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">position</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">z</span><span> </span><span class="token" style="color:#a9b7c6">=</span><span> </span><span class="token known-class-name class-name">Math</span><span class="token" style="color:#a9b7c6">.</span><span class="token method property-access" style="color:#ffc66d">sin</span><span class="token" style="color:#a9b7c6">(</span><span>elapsedTime </span><span class="token" style="color:#a9b7c6">*</span><span> orbitSpeed</span><span class="token" style="color:#a9b7c6">)</span><span> </span><span class="token" style="color:#a9b7c6">*</span><span> orbitRadius</span><span class="token" style="color:#a9b7c6">;</span><span> </span><span class="token" style="color:#808080">// 공전 시 z 좌표 (+z축은 화면을 뚫고 나오는 방향)</span><span>
</span><span>  planetRef</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">current</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">rotation</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">y</span><span> </span><span class="token" style="color:#a9b7c6">-=</span><span> rotateSpeed</span><span class="token" style="color:#a9b7c6">;</span><span> </span><span class="token" style="color:#808080">// 자전 (+y축은 화면 위쪽 방향)</span><span>
</span><span></span><span class="token" style="color:#a9b7c6">}</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span></code></div></pre>
<p style="color:#D0D0D0;font-size:2.5vh;line-height:160%" node="[object Object]">useFrame을 사용하며 주의할 점은 각 frame마다 내부의 코드가 실행되기 때문에 <code style="color:darkcyan">setState</code>처럼 컴포넌트   렌더를 다시 일으키는 동작이나 복잡한 코드의 실행은 최대한 피해야 한다는 것이다. state 대신 최대한 ref를 사용하도록 하자.</p>
<div style="border-left:1vh cadetblue solid;background-color:#282828"><p style="margin-left:1vh;margin-right:1vh;color:#D0D0D0;font-size:2.5vh;line-height:150%" node="[object Object]">
<p style="color:#D0D0D0;font-size:2.5vh;line-height:160%" node="[object Object]"><p style="color:white;display:inline;font-weight:bold" node="[object Object]">react-three-fiber docs:</p> Be careful about what you do inside useFrame! You should never setState in there! Your calculations should be slim and you should mind all the commonly known pitfalls when dealing with loops in general, like re-use of variables, etc.</p>
</p></div>
<h2 style="color:white" node="[object Object]">hover &amp; click event handler</h2>
<p style="color:#D0D0D0;font-size:2.5vh;line-height:160%" node="[object Object]">간단한 움직임을 처리했으므로 hover과 click 등의 이벤트를 감지하기 위해 handler를 추가해주자. three의 object, mesh는 js와 비슷한 이벤트 핸들러를 사용할 수 있다. 커서 올라옴, 빠져나감, 클릭됨의 이벤트를 사용하기 위해 <code style="color:darkcyan">onPointerOver</code>, <code style="color:darkcyan">onPointerOut</code>, <code style="color:darkcyan">onClick</code>를 사용해주자. 각 이벤트마다 handleHover, handleLeave, handleClick을 호출하도록 해주었다. 또한 현재 커서 상태를 저장하는 <code style="color:darkcyan">isHovered</code>라는 state를 만들어 관리해주었다.</p>
<pre><div style="color:#a9b7c6;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#2b2b2b"><code class="language-js" style="color:#a9b7c6;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#cc7832">const</span><span> </span><span class="token function-variable" style="color:#ffc66d">handleHover</span><span> </span><span class="token" style="color:#a9b7c6">=</span><span> </span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">)</span><span> </span><span class="token arrow" style="color:#a9b7c6">=&gt;</span><span> </span><span class="token" style="color:#ffc66d">setHover</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#cc7832">true</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span></span><span class="token" style="color:#cc7832">const</span><span> </span><span class="token function-variable" style="color:#ffc66d">handleLeave</span><span> </span><span class="token" style="color:#a9b7c6">=</span><span> </span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">)</span><span> </span><span class="token arrow" style="color:#a9b7c6">=&gt;</span><span> </span><span class="token" style="color:#ffc66d">setHover</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#cc7832">false</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span></span><span class="token" style="color:#cc7832">const</span><span> </span><span class="token function-variable" style="color:#ffc66d">handleClick</span><span> </span><span class="token" style="color:#a9b7c6">=</span><span> </span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">)</span><span> </span><span class="token arrow" style="color:#a9b7c6">=&gt;</span><span> </span><span class="token" style="color:#a9b7c6">{</span><span>
</span><span>  </span><span class="token dom" style="color:#9876aa">window</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">location</span><span class="token" style="color:#a9b7c6">.</span><span class="token property-access">href</span><span> </span><span class="token" style="color:#a9b7c6">=</span><span> </span><span class="token template-string template-punctuation" style="color:#6a8759">`</span><span class="token template-string" style="color:#6a8759">http://link-to-go</span><span class="token template-string template-punctuation" style="color:#6a8759">`</span><span class="token" style="color:#a9b7c6">;</span><span> 
</span><span></span><span class="token" style="color:#a9b7c6">}</span><span class="token" style="color:#a9b7c6">;</span></code></div></pre>
<p style="color:#D0D0D0;font-size:2.5vh;line-height:160%" node="[object Object]"><code style="color:darkcyan">isHovered</code>를 커서 상태에 따라 업데이트 해주고 <code style="color:darkcyan">useFrame</code> 내부에서 이를 활용해 모델 위에 커서가 올라왔다면 멈출 수 있도록 해주었다. 또한 현재 각 모델링은 렌더된 이후로부터 총 흐른 시간을 이용해 공전하도록 되어 있는데, 이러면 커서가 hover된 동안 멈춰있던 행성은 hover가 풀리면 원래의 시간상 올바른 위치로 순간이동하게 된다. 때문에 hover된 시간만큼의 차이를 되돌려주어야 하고, 이를 위해 <code style="color:darkcyan">totalHoverTime</code>이라는 ref를 추가적으로 사용했다 (자세한건 Planet.js 코드 참조).</p>
<h2 style="color:white" node="[object Object]">show name when hovered</h2>
<p style="color:#D0D0D0;font-size:2.5vh;line-height:160%" node="[object Object]">마지막으로 각 행성들이 hover되면 카테고리 항목을 표시하도록 해보자. <code style="color:darkcyan">Text3D</code>를 이용하면 간단하게 문자열을 3D 모델로 변경할 수 있다. <code style="color:darkcyan">Text3D</code>는 폰트 지정이 반드시 필요한데, 이때 원하는 폰트파일을 typeface.json라는 곳에서 JSON 형태로 변환해서 사용해야 한다.</p>
<div style="border-left:1vh cadetblue solid;background-color:#282828"><p style="margin-left:1vh;margin-right:1vh;color:#D0D0D0;font-size:2.5vh;line-height:150%" node="[object Object]">
<p style="color:#D0D0D0;font-size:2.5vh;line-height:160%" node="[object Object]">Text3D requires fonts in JSON format generated through (typeface.json)[<a to="http://gero3.github.io/facetype.js" style="color:cadetblue;display:inline" href="http://gero3.github.io/facetype.js" node="[object Object]">http://gero3.github.io/facetype.js</a>]</p>
</p></div>
<p style="color:#D0D0D0;font-size:2.5vh;line-height:160%" node="[object Object]"><code style="color:darkcyan">Text3D</code>는 material을 지정하지 않으면 그림자 등의 빛 효과 또한 받지 못하므로 적절한 material을 적용해 주었다 (사용 가능한 material은 <a to="https://threejs.org/docs/?q=material#api/en에서" style="color:cadetblue;display:inline" href="https://threejs.org/docs/?q=material#api/en%EC%97%90%EC%84%9C" node="[object Object]">https://threejs.org/docs/?q=material#api/en에서</a> material을 검색하면 확인 가능하다).</p>
<p style="color:#D0D0D0;font-size:2.5vh;line-height:160%" node="[object Object]"><code style="color:darkcyan">isHovered</code>의 상태에 따라 참이라면 <code style="color:darkcyan">Text3D</code> object를 포함해서 return하고, 그렇지 않다면 행성만 return해도록 구현했다. 각 <code style="color:darkcyan">Text3D</code>는 행성의 위치에서 카메라를 향할 수 있도록 위치와 각도를 설정해 주었다 ( <em>(행성에서 카메라로 향하는 단위 벡터) * (원하는 거리) + (행성의 현재 위치)</em> 의 식을 통해 Text3D object가 위치해야 할 좌표를 알 수 있다. threejs는 Tait–Bryan angle을 사용하므로 각 object의 각도를 현재 카메라의 각도와 동일하게 설정해주면 각 object가 카메라를 향하게 된다).</p>
<h1 style="color:white;border-bottom:solid" node="[object Object]">Home</h1>
<p style="color:#D0D0D0;font-size:2.5vh;line-height:160%" node="[object Object]">기존의 Home에서 자동차 모델을 띄워줄때는 <code style="color:darkcyan">Canvas</code> 내부에서 <code style="color:darkcyan">PresentationControls</code> 이라는 control을 이용했다. control은 간단히 생각하면 마우스 등을 이용해서 Canvas 내부의 object를 보는 것을 도와준다고 보면 된다. <code style="color:darkcyan">PresentationControls</code>은 물체를 바라보는 각도에 따라 적절한 줌을 해준다거나, 부드럽게 물체를 회전시켜 살펴볼 수 있도록 해준다. control 내부에는 <code style="color:darkcyan">Stage</code>가 있는데, 옵션으로 간단하게 원하는 조명을 설정할 수 있고, 물체의 크기에 상관없이 카메라가 적절한 거리를 유지할 수 있도록 해준다. 이러한 <code style="color:darkcyan">Canvas</code> -&gt; <code style="color:darkcyan">PresentationControls</code> -&gt; <code style="color:darkcyan">Stage</code>의 구성은 간단히 원하는 object를 컴포넌트로 렌더링하는 것이 가능하지만, 2가지 단점으로 기존 구현을 버리고 별개의 카메라와 control을 추가해주었다.</p>
<ol>
<li style="color:#D0D0D0;font-size:2.5vh;line-height:150%" node="[object Object]">현재 카메라 각도를 알기 어렵다 (물체가 카메라를 향하도록 하는 것이 어렵다)</li>
<li style="color:#D0D0D0;font-size:2.5vh;line-height:150%" node="[object Object]">마우스 휠등을 이용한 줌 (정확히는 dolly)이 불가능하다</li>
</ol>
<p style="color:#D0D0D0;font-size:2.5vh;line-height:160%" node="[object Object]"><code style="color:darkcyan">PresentationControls</code>은 카메라의 각도를 움직여가며 물체를 살펴보는 것 이 아니라, 직접 물체를 회전시키도록 구현되어 있다. 따라서 사용자가 <code style="color:darkcyan">PresentationControls</code> 내부의 물체를 원하는 대로 회전이나 이동시킨 다음 control 내부의 물체가 카메라 방향을 볼 수 있도록 해주려면 물체의 회전 기록을 저장해 두었다가 역산해주어야 하는데, 실시간으로 회전을 기록하고 역산하는 과정이 꽤나 번거로우며 많은 연산을 소비한다. 따라서 물체 자체가 아니라 카메라를 움직이는 control를 택해 간단히 camera를 향하도록 변경하였다. 카메라로는 가장 많이 사용되는 일반적인 <code style="color:darkcyan">PerspectiveCamera</code>를 사용하고 해당 camera의 ref를 <code style="color:darkcyan">CameraControls</code>와 <code style="color:darkcyan">Stage</code>에 넘겨줌으로써 전체 <code style="color:darkcyan">Cavnas</code>에서 하나의 카메라를 사용할 수 있다. 이때 <code style="color:darkcyan">PerspectiveCamera</code>에 <code style="color:darkcyan">makeDefault</code> 옵션을 줘서 모든 물체에 대해 <code style="color:darkcyan">PerspectiveCamera</code>를 사용할 것이라고 명시해주어야 한다 (그렇지 않으면 여러 카메라가 동시에 이용되며 화면이 여러 시점으로 순간이동 된다). 이후 drei Github의 docs를 살펴보며 적당히 원하는 설정을 camera와 Stage에 적용해주었다 (PerspectiveCamera, CameraControls, Stage의 각 설정에 따라 물체가 제대로 로드되지 않거나 카메라에 나타나지 않으니 적절한 설정이 반드시 필요하다. 필수적인 설정은 완성 코드에 대부분 적용되어 있으니 한번 확인해보자).</p>
<h1 style="color:white;border-bottom:solid" node="[object Object]">reference</h1>
<p style="color:#D0D0D0;font-size:2.5vh;line-height:160%" node="[object Object]">pmndrs, drei: <a to="https://github.com/pmndrs/drei" style="color:cadetblue;display:inline" href="https://github.com/pmndrs/drei" node="[object Object]">https://github.com/pmndrs/drei</a></p>
<p style="color:#D0D0D0;font-size:2.5vh;line-height:160%" node="[object Object]">Pmndrs.docs, react three fiber Hooks: <a to="https://docs.pmnd.rs/react-three-fiber/api/hooks" style="color:cadetblue;display:inline" href="https://docs.pmnd.rs/react-three-fiber/api/hooks" node="[object Object]">https://docs.pmnd.rs/react-three-fiber/api/hooks</a></p>
<p style="color:#D0D0D0;font-size:2.5vh;line-height:160%" node="[object Object]">Pmndrs.docs, react three fiber Events: <a to="https://docs.pmnd.rs/react-three-fiber/api/events" style="color:cadetblue;display:inline" href="https://docs.pmnd.rs/react-three-fiber/api/events" node="[object Object]">https://docs.pmnd.rs/react-three-fiber/api/events</a></p>
<p style="color:#D0D0D0;font-size:2.5vh;line-height:160%" node="[object Object]">three.js docs, MeshNormalMaterial: <a to="https://threejs.org/docs/?q=material#api/en/materials/MeshNormalMaterial" style="color:cadetblue;display:inline" href="https://threejs.org/docs/?q=material#api/en/materials/MeshNormalMaterial" node="[object Object]">https://threejs.org/docs/?q=material#api/en/materials/MeshNormalMaterial</a></p>
<p style="color:#D0D0D0;font-size:2.5vh;line-height:160%" node="[object Object]">three.js docs, TextGeometry: <a to="https://threejs.org/docs/index.html?q=textgeo#examples/en/geometries/TextGeometry" style="color:cadetblue;display:inline" href="https://threejs.org/docs/index.html?q=textgeo#examples/en/geometries/TextGeometry" node="[object Object]">https://threejs.org/docs/index.html?q=textgeo#examples/en/geometries/TextGeometry</a></p>
<p style="color:#D0D0D0;font-size:2.5vh;line-height:160%" node="[object Object]">three.js docs, Vector3: <a to="https://threejs.org/docs/#api/en/math/Vector3.normalize" style="color:cadetblue;display:inline" href="https://threejs.org/docs/#api/en/math/Vector3.normalize" node="[object Object]">https://threejs.org/docs/#api/en/math/Vector3.normalize</a></p>
<p style="color:#D0D0D0;font-size:2.5vh;line-height:160%" node="[object Object]">Wikipedia, Euler angles: <a to="https://en.wikipedia.org/wiki/Euler_angles#Tait%E2%80%93Bryan_angles" style="color:cadetblue;display:inline" href="https://en.wikipedia.org/wiki/Euler_angles#Tait%E2%80%93Bryan_angles" node="[object Object]">https://en.wikipedia.org/wiki/Euler_angles#Tait%E2%80%93Bryan_angles</a></p></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/myblog-dev-log/design-home/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-4dcf80b3ec3c1d7e90c0.js\"],\"component---src-pages-index-js\":[\"/component---src-pages-index-js-4ec131227afe6d26b02a.js\"],\"component---src-pages-toy-projects-solar-system-js\":[\"/component---src-pages-toy-projects-solar-system-js-26c2bfa09265e4bde8c7.js\"],\"component---src-templates-post-js\":[\"/component---src-templates-post-js-1e0638dc97f9811b5b4b.js\"],\"component---src-templates-post-list-js\":[\"/component---src-templates-post-list-js-7f0c417f55c0bb11f326.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="bf84e23dddaa824c8654";</script><script src="/my-blog/webpack-runtime-78e8db40ba63a1f896dc.js" async></script><script src="/my-blog/framework-421aea1a5abe8c38ff0e.js" async></script><script src="/my-blog/app-4dcf80b3ec3c1d7e90c0.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>